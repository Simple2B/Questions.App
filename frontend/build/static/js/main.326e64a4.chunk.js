(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),i=n(32),o=n.n(i),r=(n(38),n(8)),a=n(33),u=Object(a.io)("/questions");n(70);var d=n(0),j=function(e){var t=e.questions,n=Object(s.useState)(""),c=Object(r.a)(n,2),i=c[0],o=c[1],a=t.filter((function(e){return e.session_id===u.id})).map((function(e){return Object(d.jsxs)("div",{className:"answer__container",children:[Object(d.jsx)("span",{children:e.question_text}),Object(d.jsxs)("div",{className:"button_block",children:[Object(d.jsx)("button",{className:"answer__button",children:"Submit answer"}),Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()})})]})]},e.id)}));return Object(d.jsxs)("div",{className:"asker",children:[Object(d.jsx)("form",{className:"asker__form",children:Object(d.jsxs)("div",{className:"input-group mb-3",children:[Object(d.jsx)("input",{type:"text",className:"form-control",placeholder:"Ask your question","aria-label":"Ask your question","aria-describedby":"button-addon2",value:i,onChange:function(e){o(e.target.value)}}),Object(d.jsx)("button",{className:"btn btn-success",type:"button",id:"button-addon2",onClick:function(){var e={session:u.id,question:i};i&&u.emit("create_question",e)},children:"Ask"})]})}),Object(d.jsx)("div",{className:"answer",children:a})]})},l=(n(72),function(e){var t=e.questions.map((function(e){return Object(d.jsxs)("div",{className:"answer__container",children:[Object(d.jsx)("span",{children:e.question_text}),Object(d.jsxs)("div",{className:"button_block",children:[Object(d.jsx)("button",{className:"answer__button",children:"Submit answer"}),Object(d.jsx)("div",{children:Object(d.jsx)("span",{children:new Date(e.created_at).toLocaleTimeString()})})]})]},e.id)}));return Object(d.jsxs)("div",{className:"answer",children:[Object(d.jsx)("p",{children:"Answerer window"}),t]})}),b=(n(73),function(){var e=Object(s.useState)(u),t=Object(r.a)(e,2),n=t[0],c=(t[1],Object(s.useState)(!0)),i=Object(r.a)(c,2),o=i[0],a=i[1],b=Object(s.useState)([]),f=Object(r.a)(b,2),O=f[0],v=f[1];Object(s.useEffect)((function(){n.on("connect",(function(){n.send("User ".concat(n.id," has connected"))})),n.on("success_active_questions",(function(e){"success"===e.status&&v(e.data)})),n.on("question_create_success",(function(e){n.emit("get_active_questions"),console.log(e)})),n.emit("get_active_questions")}),[]),function(e){var t=Object(s.useRef)(e);Object(s.useEffect)((function(){t.current=e}),[e]),Object(s.useEffect)((function(){var e=function(e){var n;if("function"===typeof t.current&&(n=t.current(e)),e.defaultPrevented&&(e.returnValue=""),"string"===typeof n)return e.returnValue=n,n};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[])}((function(e){console.log(n);var t={session:n.id,message:"disconnected successfully"};console.log(t),n.emit("leave_service",t),e.preventDefault()}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{onClick:function(){a(!o)},children:"Change Page"}),Object(d.jsx)("div",{children:o?Object(d.jsx)(j,{questions:O}):Object(d.jsx)(l,{questions:O})})]})});o.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.326e64a4.chunk.js.map